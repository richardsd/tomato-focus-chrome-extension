# Internationalization Strategy

This extension uses a lightweight i18n layer built on top of Chrome's locale detection.

## Default Locale
- On startup the extension checks for a stored `localeOverride` value in `chrome.storage.local`.
- If no override is present, the browser UI language from `chrome.i18n.getUILanguage()` is used.
- The manifest declares `"default_locale": "en"` as fallback when no translation is available.

## User Override
- Users can choose a language from **Settings â†’ Language** in the popup.
- The selection is persisted to `chrome.storage.local` and applied instantly.
- Changing the language triggers a message to the background service worker which
  reloads translations and rebuilds context menus.

## Translation Files
- Messages live under `_locales/<locale>/messages.json` following the standard
  Chrome extension structure.
- The extension currently ships with English (`en`) and Spanish (`es`).

## Usage in Code
- `i18n.js` exposes an `i18n` singleton with `init`, `t`, `setLocale` and `applyTranslations` methods.
- Elements in HTML use `data-i18n` attributes which are filled with translated
  strings at runtime.
- Dynamic strings in scripts use `i18n.t('key')` directly.

## Adding a New Locale
1. Create a new `_locales/<code>/messages.json` file.
2. Add translations for existing keys.
3. Add the locale to the language selector in `popup.html`.
4. No further code changes are required.
